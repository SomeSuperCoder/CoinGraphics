<TooltipMDIconButton@MDFloatingActionButton+MDTooltip>
<ContentNavigationDrawer>:
    orientation: "vertical"
    padding: "8dp"
    spacing: "8dp"

    AnchorLayout:
        anchor_x: "left"
        size_hint_y: None



        MDNavigationDrawerHeader:
            title: "Уведомление"
            title_color: "#4a4939"
            text: "2 оповещений"



    ScrollView:

        MDList:
            id: md_list
            MDExpansionPanelThreeLine:
                id: cancel_lesson
                text: "Отмена занятий"
                secondary_text: "Отмена занятий в связи с плохой погодой следущие занятие по расписанию"
                tertiary_text: "02.10.2009"
                IconLeftWidget:
                    icon: "table-cancel"
            MDExpansionPanelThreeLine:
                text: "Начисление"
                secondary_text: "начисление за хорошее поведенние"
                tertiary_text: "02.11.2009"
                IconLeftWidget:
                    icon: "decimal-comma-increase"


<DrawerClickableItem@MDNavigationDrawerItem>
    focus_color: "#e7e4c0"
    text_color: "#4a4939"
    icon_color: "#4a4939"
    ripple_color: "#c5bdd2"
    selected_color: "#0c6c4d"


<DrawerLabelItem@MDNavigationDrawerItem>
    text_color: "#4a4939"
    icon_color: "#4a4939"
    focus_behavior: False
    selected_color: "#4a4939"
    _no_ripple_effect: True

Screen:
    screen_manager: screen_manager
    nav_drawer: nav_drawer
    MDNavigationLayout:

        MDScreenManager:
            id: screen_manager
            MDScreen:
                name: "login_screen"
                MDCard:
                    size_hint: .8, .88
                    pos_hint: {"center_x": .5, "center_y": .5}
                    elevation: 6
                    orientation: "vertical"
                    MDFloatLayout:
                        MDLabel:
                            text: "Вход"
                            font_size: "50sp"
                            pos_hint: {"center_x": .85, "center_y": .85}
                        MDIcon:
                            icon: "scr/icon.png"
                            halign: 'center'
                            pos_hint: {"center_x": .5, "center_y": .5}
                            font_size: "170sp"
                        MDTextField:
                            id: login
                            mode: "rectangle"
                            size_hint: .85, .09
                            width: "400dp"
                            hint_text: "Логин"
                            text_color_active: 1,1,1,1
                            pos_hint: {"center_x": .5, "center_y": .62}
                        MDTextField:
                            id: password
                            mode: "rectangle"
                            size_hint: .85, .09
                            width: "400dp"
                            hint_text: "Пароль"
                            pos_hint: {"center_x": .5, "center_y": .48}
                        MDRaisedButton:
                            text: " Войти "
                            text_size: "39sp"
                            pos_hint: {"center_x": .5, "center_y": .315}
                            on_release:
                                app.log_in()
            MDScreen:
                name: 'main_screen'
                BoxLayout:
                    orientation: 'vertical'
                    MDFloatLayout:
                        size_hint: 1, .12
                        TooltipMDIconButton:
                            icon: 'bell'
                            icon_size: '25sp'
                            pos_hint: {'center_x': .9, 'center_y': .3}
                            on_release:
                                nav_drawer.set_state("open")
                        TooltipMDIconButton:
                            icon: "alpha-a"
                            pos_hint: {'center_x': .1, 'center_y': .3}
                            icon_size: '50sp'
                            on_release:
                                app.screen("user_profile")
                        MDFlatButton:
                            text: "Андрей ›"
                            font_style: "Subtitle2"
                            font_size: '30sp'
                            pos_hint: {'center_x': .296, 'center_y': .3}
                            on_release:
                                app.screen("user_profile")
                    MDFloatLayout:
                        size_hint: 1, .2
                        MDCard:
                            size_hint: .8, .40
                            pos_hint: {"center_x": .5, "center_y": .3}
                            elevation: 6
                            orientation: "vertical"
                            MDLabel:
                                size_hint: 1, .4
                                id: balance_user
                                text: "15$"
                                font_size: '40sp'
                                halign: 'center'
                    MDFloatLayout:
                        size_hint: 1, .3
                        TooltipMDIconButton:
                            icon: 'shopping'
                            tooltip_text: 'Потратить балы'
                            pos_hint: {'center_x': .5, 'center_y': .7}
                            on_release: app.screen("spending")
                    MDTabs:
                        id: tabs
                        Tab:
                            title: "          История         "
                            ScrollView:
                                MDList:
                                    ThreeLineAvatarListItem:
                                        text: "+20"
                                        secondary_text: "начисление за хорошее поведенние"
                                        tertiary_text: "02.11.2009"
                                        IconLeftWidget:
                                            icon: "decimal-comma-increase"
                        Tab:
                            title: "         Магазин         "
                            MDScrollView:
                                GridLayout:
                                    spacing: 3
                                    padding: 3
                                    cols:3
                                    size_hint: 1, 1.2
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .1, "center_y": .5}
                                        elevation: 6
                                        orientation: "vertical"
                                        MDFloatLayout:
                                            MDIconButton:
                                                icon: "scr/vr-icon.png"
                                                icon_size: "90sp"
                                                pos_hint: {"center_x": .5, "center_y": .7}
                                            MDFlatButton:
                                                text: 'Игра в VR шлеме'
                                                font_size: "14sp"
                                                pos_hint: {"center_x": .5, "center_y": .4}
                                            MDFlatButton:
                                                text: "20$"
                                                font_size: "23sp"
                                                pos_hint: {"center_x": .26, "center_y": .2}
                                            MDRaisedButton:
                                                text: "Купить"
                                                pos_hint: {"center_x": .7, "center_y": .2}
                                                size_hint: .08, .09
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .5, "center_y": .9}
                                        elevation: 6
                                        orientation: "vertical"
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .5, "center_y": .9}
                                        elevation: 6
                                        orientation: "vertical"
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .1, "center_y": .5}
                                        elevation: 6
                                        orientation: "vertical"
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .5, "center_y": .9}
                                        elevation: 6
                                        orientation: "vertical"
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .5, "center_y": .9}
                                        elevation: 6
                                        orientation: "vertical"
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .1, "center_y": .5}
                                        elevation: 6
                                        orientation: "vertical"
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .5, "center_y": .9}
                                        elevation: 6
                                        orientation: "vertical"
                                    MDCard:
                                        size_hint: 1, 1
                                        pos_hint: {"center_x": .5, "center_y": .9}
                                        elevation: 6
                                        orientation: "vertical"
                        Tab:
                            title: "         Начисление      "
                            MDTabs:
                                Tab:
                                    title: "                  Конкурсы                       "
                                    id: charge_contests
                                Tab:
                                    title: "                  Другое                       "
                                    ScrollView:
                                        MDList:
                                            OneLineAvatarListItem:
                                                text: "за отличную работу на занятии"
                                                IconLeftWidget:
                                                    icon: "numeric-1"
                                            OneLineAvatarListItem:
                                                text: "за проектную работу"
                                                IconLeftWidget:
                                                    icon: "numeric-5"
                                            OneLineAvatarListItem:
                                                text: "за участие в инженерном волонтерстве"
                                                IconLeftWidget:
                                                    icon: "numeric-2"
                                            OneLineAvatarListItem:
                                                text: "за участие в мероприятиях от технопарка повышающий имидж ДТ Кванториум"
                                                IconLeftWidget:
                                                    icon: "numeric-2"
            MDScreen:
                name: 'user_profile'
                MDCard:
                    size_hint: .8, .88
                    pos_hint: {"center_x": .5, "center_y": .5}
                    elevation: 6
                    orientation: "vertical"
                    MDFloatLayout:

                        TooltipMDIconButton:
                            icon: "arrow-left"
                            tooltip_text: 'Назад'
                            pos_hint: {"center_x": .13, "center_y": .92}
                            icon_size: "43sp"
                            on_release:
                                app.screen('main_screen')

                        MDIconButton:
                            id: iconadmin
                            pos_hint: {"center_x": .5, "center_y": .87}
                            icon_size: "120sp"
                            icon: "account-circle-outline"
                            on_release: app.file_manager_open(1)

                        MDLabel:
                            text: "Васильев\nАндрей Витальевич"
                            font_style: "Button"
                            size_hint_y: None
                            halign: "center"
                            font_size: "30sp"
                            pos_hint: {"center_x": .5, "center_y": .74}
                        MDLabel:
                            text: "02.10.2009"
                            font_style: "Subtitle1"
                            size_hint_y: None
                            halign: "center"
                            font_size: "23sp"
                            pos_hint: {"center_x": .5, "center_y": .665}
                        ScrollView:
                            pos_hint: {"center_x": .5, "center_y": .15}
                            MDList:
                                scroll_y: None
                                OneLineAvatarListItem:
                                    on_release: app.screen("settingadmin")
                                    text: "Настройки профиля"
                                    IconLeftWidget:
                                        icon: "cog"
                                OneLineAvatarListItem:
                                    text: "Выйти"
                                    IconLeftWidget:
                                        icon: "exit-to-app"
                        MDFillRoundFlatIconButton:
                            icon: 'exit-to-app'
                            text: 'Выйти'
                            pos_hint: {"center_x": .5, "center_y": .12}
            MDScreen:
                name: "spending"
                MDLabel:
                    text: "Что хотите купить?"
            MDScreen:
                name: "admin_screen"
                MDCard:
                    size_hint: .8, .88
                    pos_hint: {"center_x": .5, "center_y": .5}
                    elevation: 6
                    orientation: "vertical"
                    MDFloatLayout:

                        MDIconButton:
                            id: iconadmin
                            pos_hint: {"center_x": .5, "center_y": .87}
                            icon_size: "120sp"
                            icon: "account-circle-outline"
                            on_release: app.file_manager_open(1)

                        MDLabel:
                            text: "Васильев\nАндрей Витальевич"
                            font_style: "Button"
                            size_hint_y: None
                            halign: "center"
                            font_size: "30sp"
                            pos_hint: {"center_x": .5, "center_y": .74}
                        MDLabel:
                            text: "02.10.2009"
                            font_style: "Subtitle1"
                            size_hint_y: None
                            halign: "center"
                            font_size: "23sp"
                            pos_hint: {"center_x": .5, "center_y": .665}
                        ScrollView:
                            pos_hint: {"center_x": .5, "center_y": .15}
                            MDList:
                                scroll_y: None
                                OneLineAvatarListItem:
                                    on_release: app.screen("settingsadmin")
                                    text: "account-group"
                                    IconLeftWidget:
                                        icon: "account-plus"
                                OneLineAvatarListItem:
                                    text: "Выйти"
                                    on_release: app.screen('login_screen')
                                    IconLeftWidget:
                                        icon: "exit-to-app"
                        MDFillRoundFlatIconButton:
                            icon: 'exit-to-app'
                            text: 'Выйти'
                            pos_hint: {"center_x": .5, "center_y": .12}
                            on_release: app.screen('login_screen')
            MDScreen:
                name:  "settingsadmin"
                MDFloatLayout:
                    MDLabel:
                        text: "Заполините данные\nнового админа "
                        pos_hint: {"center_x": .5, "center_y": .9}
                        font_size: '50sp'
                        halign: 'center'
                    MDTextField:
                        id: login_admin_new
                        mode: "rectangle"
                        size_hint: .85, .07
                        width: "400dp"
                        hint_text: "Логин"
                        pos_hint: {"center_x": .5, "center_y": .75}
                    MDIconButton:
                        icon: "scr/repeat.png"
                        on_release: app.generate()
                        pos_hint: {"center_x": .88, "center_y": .75}
                    MDTextField:
                        id: password_admin_new
                        mode: "rectangle"
                        size_hint: .85, .07
                        width: "400dp"
                        hint_text: "Пороль"
                        pos_hint: {"center_x": .5, "center_y": .65}
                    MDTextField:
                        id: name_admin_new
                        mode: "rectangle"
                        size_hint: .85, .07
                        width: "400dp"
                        hint_text: "ФИО"
                        pos_hint: {"center_x": .5, "center_y": .55}
                    MDTextField:
                        id: birthday_admin_new
                        mode: "rectangle"
                        size_hint: .85, .07
                        width: "400dp"
                        hint_text: "День рождение"
                        pos_hint: {"center_x": .5, "center_y": .45}
                    MDRaisedButton:
                        text: "Создать"
                        text_size: "39sp"
                        pos_hint: {"center_x": .5, "center_y": .3}
                        on_release:
                            app.registration("Admin_screen")
            MDScreen:
                name: 'teacher_screen'
                MDList:
                    MDBoxLayout:
                        orientation: 'vertical'
                        spacing: dp(10)
                        padding: dp(20)

                        MDBoxLayout:
                            adaptive_height: True

                            MDIconButton:
                                icon: 'magnify'

                            MDTextField:
                                id: search_field
                                hint_text: 'Search icon'
                                on_text: root.set_list_md_icons(self.text, True)

                        RecycleView:
                            id: rv
                            key_viewclass: 'viewclass'
                            key_size: 'height'

                            RecycleBoxLayout:
                                padding: dp(10)
                                default_size: None, dp(48)
                                default_size_hint: 1, None
                                size_hint_y: None
                                height: self.minimum_height
                                orientation: 'vertical'

        MDNavigationDrawer:
            id: nav_drawer
            anchor: "right"
            ContentNavigationDrawer:
                screen_manager: screen_manager
                nav_drawer: nav_drawer


